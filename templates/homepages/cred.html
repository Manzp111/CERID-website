<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            height: 2000px; /* For demonstration purposes */
        }

        /* Float four columns side by side */
        .column {
            float: left;
            width: 25%;
            padding: 0 5px;
        }

        .row {
            margin: 0 -5px;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Responsive columns */
        @media screen and (max-width: 600px) {
            .column {
                width: 100%;
                display: block;
                margin-bottom: 10px;
            }
        }

        /* Style the counter cards */
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            padding: 16px;
            text-align: center;
            background-color: #444;
            color: white;
        }

        .fa {
            font-size: 50px;
        }
    </style>
</head>
<body>

<h2>Responsive Section Counter</h2>
<p>Scroll down to see the counter effect.</p>
<br>

<div class="row" id="counter-section">
    <div class="column">
        <div class="card">
            <p><i class="fa fa-user"></i></p>
            <h3 class="counter" data-target="11">0</h3>
            <p>Partners</p>
        </div>
    </div>

    <div class="column">
        <div class="card">
            <p><i class="fa fa-check"></i></p>
            <h3 class="counter" data-target="55">0</h3>
            <p>Projects</p>
        </div>
    </div>
    
    <div class="column">
        <div class="card">
            <p><i class="fa fa-smile-o"></i></p>
            <h3 class="counter" data-target="100">0</h3>
            <p>Happy Clients</p>
        </div>
    </div>
    
    <div class="column">
        <div class="card">
            <p><i class="fa fa-coffee"></i></p>
            <h3 class="counter" data-target="100">0</h3>
            <p>Meetings</p>
        </div>
    </div>
</div>

<script>
    let hasCounted = false; // Flag to check if counting has occurred

    window.addEventListener('scroll', function() {
        const counterSection = document.getElementById('counter-section');
        const sectionTop = counterSection.getBoundingClientRect().top;
        const sectionVisible = window.innerHeight - sectionTop >= 0; // Check if the section is visible

        if (sectionVisible && !hasCounted) {
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                let count = 0;
                const speed = 2000; // Duration for counting in milliseconds
                const increment = target / speed * 100; // Calculate the increment

                const updateCount = setInterval(() => {
                    count += increment;
                    if (count >= target) {
                        count = target;
                        clearInterval(updateCount);
                    }
                    counter.innerText = Math.floor(count);
                }, 100);
            });
            hasCounted = true; // Set flag to true to prevent counting again
        }
    });
</script>

</body>
</html>